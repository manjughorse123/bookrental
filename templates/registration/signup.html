{% include "header_index.html" %}
{% block content %}
{% load static %}
{% block javascript %}

<!DOCTYPE html>
<html lang="en">
<head>
	<title>SignUp V1</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="/static/images/icons/favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="/static/vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="/static/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="/static/vendor/animate/animate.css">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="/static/vendor/css-hamburgers/hamburgers.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="/static/vendor/select2/select2.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="/static/css/util.css">
	<link rel="stylesheet" type="text/css" href="/static/css/main.css">
<!--===============================================================================================-->
</head>
<body>
	
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<div class="login100-pic js-tilt" data-tilt>
					<img src="/static/images/book.jpg" alt="IMG">
				</div>

				<form class="login100-form validate-form" method="POST">
					{% csrf_token %}
					<span class="login100-form-title">
						Register New User
					</span>
					{% csrf_token %}
					{{error}}
			
					 	<div class="wrap-input100 validate-input" data-validate = "Valid code is required">
							<select class="input100" name="countries" id="countries" >
								<option value='+91' data-image="images/msdropdown/icons/blank.gif" data-imagecss="flag in" data-title="India" selected="selected">India (+91)</option>	
							</select>	
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-globe" aria-hidden="true"></i>
							</span>
						</div>

						<div class="wrap-input100 validate-input" data-validate	= "Valid mobile is required">
							<input class="input100" type="tel" 
							name="phone_number" id='id_phone_number_1' placeholder="mobile" pattern='^\+?\d{0,13}'>
							
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-phone" aria-hidden="true"></i>
							</span>

						</div>
							<div class="isa_error">{{ form.errors.phone_number }}</div>
                    
                   
                    	<div class="wrap-input100 validate-input" data-validate = "name is required">
							<input class="input100" type="text" name="name" placeholder="Name" >
							
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-user" aria-hidden="true"></i>
							</span>
						</div>

						<div class="wrap-input100 validate-input">
							<select class="input100" name="user_type"  >
								<option value='admin' >Admin</option>
								<option value='user' selected="selected">User</option>
								<option value='supplier'>Supplier</option>	
							</select>	
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i  aria-hidden="true"></i>
							</span>
						</div>
						
						<div class="wrap-input100 validate-input" data-validate = "Valid email is required: ex@abc.xyz">
							<input class="input100" type="text" name="email" placeholder="Email" >
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-envelope" aria-hidden="true"></i>
							</span>
						</div>
						<div class="isa_error">{{ form.errors.email }}</div>

						<div class="wrap-input100 validate-input" data-validate = "Password is required">
							<input class="input100" type="password" name="password" placeholder="Password" >
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-lock" aria-hidden="true"></i>
							</span>
						</div>

						<div class="wrap-input100 validate-input" data-validate = "Password is required">
							<input class="input100" type="password" name="confirm_password" placeholder="confirm_password" >
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-lock" aria-hidden="true"></i>
							</span>
						</div>
						<div class="isa_error">{{ form.errors.password}}</div>
					
						<div class="container-login100-form-btn">
							<button id="login_btn" class="login100-form-btn">
								Register User
							</button>
						</div>
						
		
				</form>
			</div>
		</div>
	</div>
	
	

	
<!--===============================================================================================-->	
	<script src="/static/vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="/static/vendor/bootstrap/js/popper.js"></script>
	<script src="/static/vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="/static/vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="/static/vendor/tilt/tilt.jquery.min.js"></script>
	<script >
		$('.js-tilt').tilt({
			scale: 1.1
		})
	</script>
<!--===============================================================================================-->
	<script src="js/main.js"></script>
<!--===============================================================================================-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
     $("#signup_btn").click(function(){
            var code =  $("#countries").val();
            var phone_number =  $("#id_phone_number_1").val();
            var email =  $("#email").val();
            var name =  $("#name").val();
            var password =  $("#pasword").val();
            var confirm_password =$("#confirm_password").val();

            $.ajax({
                type: "POST",
                datatype : "application/json",
                data: {'phone_number':code+phone_number , 'name':name  ,'email':email, 'password':password ,'confirm_password':confirm_password} ,
                url :'/users/signup/',
                success: function (result){
                   
                    alert("user registered");
                   	window.location='/';

                },
            });

        });  

</script>
</body>
</html>
{% endblock %}
{% endblock %}
{% block footer %}
{% include "footer_index.html" %}
{% endblock %}